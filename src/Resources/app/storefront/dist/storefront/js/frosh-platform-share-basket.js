(()=>{var E=Object.create;var f=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var _=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var j=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!w.call(t,n)&&n!==r&&f(t,n,{get:()=>e[n],enumerable:!(i=O(e,n))||i.enumerable});return t};var A=(t,e,r)=>(r=t!=null?E(_(t)):{},j(e||!t||!t.__esModule?f(r,"default",{value:t,enumerable:!0}):r,t));var m=M((z,g)=>{"use strict";var I=function(e){return N(e)&&!P(e)};function N(t){return!!t&&typeof t=="object"}function P(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||B(t)}var T=typeof Symbol=="function"&&Symbol.for,L=T?Symbol.for("react.element"):60103;function B(t){return t.$$typeof===L}function x(t){return Array.isArray(t)?[]:{}}function c(t,e){return e.clone!==!1&&e.isMergeableObject(t)?l(x(t),t,e):t}function C(t,e,r){return t.concat(e).map(function(i){return c(i,r)})}function $(t,e){if(!e.customMerge)return l;var r=e.customMerge(t);return typeof r=="function"?r:l}function U(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function b(t){return Object.keys(t).concat(U(t))}function p(t,e){try{return e in t}catch{return!1}}function F(t,e){return p(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function H(t,e,r){var i={};return r.isMergeableObject(t)&&b(t).forEach(function(n){i[n]=c(t[n],r)}),b(e).forEach(function(n){F(t,n)||(p(t,n)&&r.isMergeableObject(e[n])?i[n]=$(n,r)(t[n],e[n],r):i[n]=c(e[n],r))}),i}function l(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||C,r.isMergeableObject=r.isMergeableObject||I,r.cloneUnlessOtherwiseSpecified=c;var i=Array.isArray(e),n=Array.isArray(t),a=i===n;return a?i?r.arrayMerge(t,e,r):H(t,e,r):c(e,r)}l.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,n){return l(i,n,r)},{})};var J=l;g.exports=J});var u=class{constructor(e){this._el=e,e.$emitter=this,this._listeners=[]}publish(e,r={},i=!1){let n=new CustomEvent(e,{detail:r,cancelable:i});return this.el.dispatchEvent(n),n}subscribe(e,r,i={}){let n=this,a=e.split("."),s=i.scope?r.bind(i.scope):r;if(i.once&&i.once===!0){let S=s;s=function(y){n.unsubscribe(e),S(y)}}return this.el.addEventListener(a[0],s),this.listeners.push({splitEventName:a,opts:i,cb:s}),!0}unsubscribe(e){let r=e.split(".");return this.listeners=this.listeners.reduce((i,n)=>n.splitEventName.sort().toString()===r.sort().toString()?(this.el.removeEventListener(n.splitEventName[0],n.cb),i):(i.push(n),i),[]),!0}reset(){return this.listeners.forEach(e=>{this.el.removeEventListener(e.splitEventName[0],e.cb)}),this.listeners=[],!0}get el(){return this._el}set el(e){this._el=e}get listeners(){return this._listeners}set listeners(e){this._listeners=e}};var d=A(m()),o=class{constructor(e,r={},i=!1){this.initialOptions={},this.options={},this.el=e,this.$emitter=new u(this.el),this._pluginName=this._getPluginName(i),this._initialized=!0,this.initialOptions=r,this._registerInstance()}setup(){this.options=this._mergeOptions(this.initialOptions),this.init()}_update(){this._initialized&&this.update()}update(){}_registerInstance(){window.PluginManager.getPluginInstancesFromElement(this.el).set(this._pluginName,this);let r=window.PluginManager.getPlugin(this._pluginName,!1);r.has("instances")&&r.get("instances").push(this)}_getPluginName(e){return e===!1?this.constructor.name:e}_mergeOptions(e){let r=this._pluginName.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase(),i=this.parseJsonOrFail(r),n="";typeof this.el.getAttribute=="function"&&(n=this.el.getAttribute("data-".concat(r,"-options"))||"");let a=[this.constructor.options,this.options,e];i&&a.push(window.PluginConfigManager.get(this._pluginName,i));try{n&&a.push(JSON.parse(n))}catch(s){throw new Error(`The data attribute "data-${r}-options" could not be parsed to json: ${s.message||""}`)}return d.default.all(a.filter(s=>s instanceof Object&&!(s instanceof Array)).map(s=>s||{}))}parseJsonOrFail(e){if(typeof this.el.getAttribute!="function")return"";let r=this.el.getAttribute(`data-${e}-config`)||"";try{return JSON.parse(r)}catch{return r}}};var h=class extends o{urlShareBtn=null;urlShareInput=null;webShareBtn=null;options={urlShareSelector:".btn-share-basket-url",urlInputSelector:"#share-basket-url",webShareSelector:".btn-share-basket-webshare"};constructor(e,r,i){super(e,r,i),this.setup()}init(){this.urlShareBtn=this.el.querySelector(this.options.urlShareSelector),this.urlShareInput=this.el.querySelector(this.options.urlInputSelector),this.webShareBtn=this.el.querySelector(this.options.webShareSelector),this._registerEvents()}_registerEvents(){this.urlShareBtn&&this.urlShareBtn.addEventListener("click",this._onClickUrlShare.bind(this)),this.webShareBtn&&navigator.share!==void 0&&(this.webShareBtn.addEventListener("click",this._onClickWebShare.bind(this)),this.webShareBtn.style.display="inline-block")}_onClickUrlShare(e){e.preventDefault(),this.urlShareInput&&(this.urlShareInput.select(),document.execCommand("copy"))}_onClickWebShare(e){e.preventDefault();let r=e.currentTarget;navigator.share({title:r.dataset.shareTitle,text:r.dataset.shareText,url:r.dataset.shareUrl})}};var{PluginManager:q}=window;q.register("FroshSharebasketButtons",h,"[data-frosh-share-basket-buttons]");})();
